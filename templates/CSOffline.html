<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>F&M Computer Science</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f8f8f8;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  header {
    width: 100%;
    background: #002D72;
    color: white;
    padding: 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  }
  header h1 { margin: 0; font-size: 1.4rem; font-weight: bold; }
  header a, header span {
    background: #C8102E;
    padding: 8px 14px;
    border-radius: 9999px;
    font-size: 0.85rem;
    color: white;
    text-decoration: none;
  }
  header span { background: rgba(200,16,46,0.9); }

  main {
    flex: 1;
    display: grid;
    grid-template-columns: 1fr;
    gap: 20px;
    padding: 24px;
    max-width: 1200px;
    margin: 0 auto;
  }
  @media (min-width: 992px) {
    main { grid-template-columns: repeat(3,1fr); }
  }

  .card {
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column;
  }
  .card h2 {
    font-size: 1.3rem;
    font-weight: bold;
    color: #002D72;
    margin: 0 0 8px;
  }
  .muted { font-size: 0.85rem; color: #666; margin-bottom: 16px; }

  /* Buttons */
  .toggle-btn {
    padding: 8px 16px;
    border: 1px solid #ccc;
    border-radius: 9999px;
    background: white;
    cursor: pointer;
    transition: 0.2s;
    font-size: 0.85rem;
  }
  .toggle-btn:hover {
    border-color: #002D72;
    color: #002D72;
  }

  .hidden { display: none; }

  /* Lists */
  ul { padding-left: 20px; }
  li { margin-bottom: 8px; }

  /* Counters */
  .count-boxes {
    display: grid;
    grid-template-columns: repeat(3,1fr);
    gap: 12px;
    margin-bottom: 16px;
  }
  .count-box {
    background: #e0e8f5;
    padding: 12px;
    border-radius: 8px;
    text-align: center;
  }
  .count-box.secondary { background: #f6d0d6; }
  .count-box .num {
    font-size: 1.8rem;
    font-weight: bold;
  }
  .count-box .label { font-size: 0.75rem; color: #444; }

  /* FAQ */
  .faq-item { border: 1px solid #ccc; border-radius: 8px; overflow: hidden; }
  .faq-question {
    width: 100%; padding: 12px; text-align: left;
    border: none; background: white; cursor: pointer;
    display: flex; justify-content: space-between; align-items: center;
    font-size: 0.9rem;
  }
  .faq-question:hover { background: #f0f0f0; }
  .faq-answer { background: #f7f7f7; padding: 12px; font-size: 0.85rem; }

</style>
</head>
<body>

<header>
  <h1>Computer Science at Franklin & Marshall</h1>
  <div style="display:flex; gap:10px; align-items:center;">
    <a href="/">← Back to Home</a>
    <span>Admitted Students Day</span>
  </div>
</header>

<main>
  <!-- Card 1 -->
  <section class="card" id="card-overview">
    <h2>What is Computer Science at F&M?</h2>
    <p id="directive" class="muted">Click a button to see details.</p>
    <p id="CScontent">
      At F and M, computer science is one of the most versatile fields of study,
      connecting technology with real-world impact. The program emphasizes both the
      mathematical foundations of computer science and strong programming skills,
      and encourages you to put theory into practice.
    </p>

    <div style="display:flex; flex-wrap:wrap; gap:10px; margin-top:10px;">
      <button id="highlights" class="toggle-btn" data-target="#ovr-highlights" onclick="speakOnClick('highlights','Here are the ')">Program Highlights</button>
      <button class="toggle-btn" data-target="#ovr-contact">Department Contact</button>
    </div>

    <div id="ovr-highlights" class="hidden" style="margin-top:14px;">
      <ul>
        <li>Strong foundations in theory and programming.</li>
        <li>Understand how computers represent and process information.</li>
        <li>Explore AI, ML, and bioinformatics through coursework and research.</li>
      </ul>
    </div>

    <div id="ovr-contact" class="hidden" style="margin-top:14px;">
      <p><strong>Head of Department:</strong> Professor Novak</p>
      <p><strong>Email:</strong> novak@fandm.edu</p>
      <p><strong>Office:</strong> 101</p>
      <p><strong>Phone:</strong> 717-358-4261</p>
    </div>

    <div style="margin-top:auto; padding-top:14px; font-size:0.85rem; color:#666; font-style:italic;">
      "Computing is not about computers any more. It's about living." — Nicholas Negroponte
    </div>
  </section>

  <!-- Card 2 -->
  <section class="card" id="card-required">
    <h2>Required Classes</h2>
    <p class="muted">Click a button to see details.</p>

    <div id="glance-counts" class="count-boxes">
      <div class="count-box"><div class="num">11</div><div class="label">CS Courses</div></div>
      <div class="count-box secondary"><div class="num">7</div><div class="label">Core Classes</div></div>
      <div class="count-box"><div class="num">4</div><div class="label">Electives</div></div>
    </div>

    <div style="display:flex; flex-wrap:wrap; gap:10px;">
      <button id="core" class="toggle-btn" data-target="#req-core" onclick="speakOnClick('core','These are the ')">Core CS Courses</button>
      <button id="math" class="toggle-btn" data-target="#req-math" onclick="speakOnClick('math','These are the ')">Math Requirement Courses</button>
      <button id="electives" class="toggle-btn" data-target="#glance-cs-electives" onclick="speakOnClick('electives','Check out some of the ')">CS Electives</button>
      <button id="related" class="toggle-btn" data-target="#glance-related" onclick="speakOnClick('related','Here are some ')">Related Non-CS Courses</button>
    </div>

    <div id="req-core" class="hidden" style="margin-top:14px;">
      <ul>
        <li>CPS 111 – Computer Science I</li>
        <li>CPS 112 – Computer Science II</li>
        <li>CPS 222 – Computer Science III</li>
        <li>CPS 237 – Computational Discrete Math</li>
        <li>CPS 242 – Computer Organization</li>
        <li>CPS 261 – Algorithms</li>
        <li>CPS 337 – Advanced CS Core</li>
      </ul>
    </div>

    <div id="req-math" class="hidden" style="margin-top:14px;">
      <ul>
        <li>MAT 109 – Calculus I</li>
        <li>MAT 110 – Calculus II</li>
        <li>MAT 216 or MAT 229</li>
      </ul>
    </div>

    <div id="glance-cs-electives" class="hidden" style="margin-top:14px;">
      <ul>
        <li>CPS 360 – Intro to Machine Learning</li>
        <li>CPS 363 – Intro to Bioinformatics</li>
        <li>CPS 367 – Artificial Intelligence</li>
        <li>CPS 372 – Information Theory</li>
      </ul>
    </div>

    <div id="glance-related" class="hidden" style="margin-top:14px;">
      <ul>
        <li>PHI 244 – Symbolic Logic</li>
        <li>PSY/SPM 305 – Cognitive Psychology</li>
        <li>PHI/PSY 203 – Embodied Cognition</li>
      </ul>
    </div>
  </section>

  <!-- Card 3 -->
  <section class="card" id="card-faq">
    <h2>Frequently Asked Questions</h2>
    <p class="muted">Click a question to see the answer.</p>

    <div class="faq-item">
      <button class="faq-question" data-target="#faq-answer-1" onclick="speakOnClick('faq-answer-1')">What programming languages will I learn?<span>▼</span></button>
      <div id="faq-answer-1" class="faq-answer hidden">You will use Python, Java, and sometimes C++ in advanced courses.</div>
    </div>

    <div class="faq-item">
      <button class="faq-question" data-target="#faq-answer-2" onclick="speakOnClick('faq-answer-2')">Are there research opportunities?<span>▼</span></button>
      <div id="faq-answer-2" class="faq-answer hidden">Yes, especially in ML, AI, and bioinformatics.</div>
    </div>

    <div class="faq-item">
      <button class="faq-question" data-target="#faq-answer-3" onclick="speakOnClick('faq-answer-3')">What careers do CS grads pursue?<span>▼</span></button>
      <div id="faq-answer-3" class="faq-answer hidden">Software engineering, data science, cybersecurity, consulting, grad school.</div>
    </div>

    <div class="faq-item">
      <button class="faq-question" data-target="#faq-answer-4" onclick="speakOnClick('faq-answer-4')">Can I double major with CS?<span>▼</span></button>
      <div id="faq-answer-4" class="faq-answer hidden">Yes—common pairs include math, psych, physics, econ.</div>
    </div>

    <div class="faq-item">
      <button class="faq-question" data-target="#faq-answer-5" onclick="speakOnClick('faq-answer-5')">What if I have no programming experience?<span>▼</span></button>
      <div id="faq-answer-5" class="faq-answer hidden">CPS 111 is designed for beginners.</div>
    </div>
  </section>
</main>

<script>
// Basic toggle system
const toggleButtons = document.querySelectorAll('.toggle-btn');
toggleButtons.forEach(btn => {
  const targetSel = btn.getAttribute('data-target');
  const target = document.querySelector(targetSel);
  if (!target) return;
  btn.addEventListener('click', () => {
    const container = btn.closest('section');
    const isRequired = container.id === 'card-required';
    if (!isRequired) {
      container.querySelectorAll('[id^="ovr-"], [id^="glance-"], [id^="req-"]').forEach(el => {
        if (el !== target && el.id !== 'glance-counts') el.classList.add('hidden');
      });
    }
    target.classList.toggle('hidden');
  });
});

document.querySelectorAll('.faq-question').forEach(btn => {
  const target = document.querySelector(btn.getAttribute('data-target'));
  btn.addEventListener('click', () => {
    const container = btn.closest('section');
    container.querySelectorAll('.faq-answer').forEach(a => { if (a !== target) a.classList.add('hidden'); });
    target.classList.toggle('hidden');
  });
});

function speakOnClick(sectionId, extra="") {
  var text = document.getElementById(sectionId).innerHTML;
  var full_text = extra + text;
  fetch("http://127.0.0.1:5001/speakOnClick",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({'text': full_text})
  });
}

function speakWithMisty(){
  var t1 = document.getElementById("CScontent").innerHTML;
  var t2 = document.getElementById("directive").innerHTML;
  var full = t1 + " " + t2;
  fetch("http://127.0.0.1:5001/speak",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({'text': full})
  });
}

speakWithMisty();
</script>
</body>
</html>